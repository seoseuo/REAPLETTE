<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 수정</title>
    <link rel="stylesheet" href="../../../resources/static/css/community/communityEditPost.css">
    <link rel="stylesheet" href="../../../resources/static/css/headerstyle.css">
    <script src="../../../resources/static/js/community/communityEditPost.js"></script>
</head>

<body>
    <header>

        <div class="desktop-horizontal-logo-left-not-logged-menu-bottom-search-icons-right">
            <div class="top">
                <div class="logo">

                    <!-- 메인 이동 -->
                    <a href="/index">
                        <div class="text">
                            <div class="webby-frames">REAPLETTE</div>
                            <div class="for-figma"></div>
                        </div>
                    </a>
                </div>

                <!-- 검색창 -->
                <form class="field" action="/search/total">
                    <div>

                        <input class="text2" placeholder="검색어를 입력하세요 . . .">
                        <img class="icon-jam-icons-outline-logos-search"
                            src="../../../resources/static/images/icon-jam-icons-outline-logos-search0.svg" />
                    </div>
                </form>


                <!-- 커뮤니티 버튼 -->
                <a href="/community/main">
                    <div class="buttons-group">
                        <img class="icon-heroicons-outline-user-group"
                            src="../../../resources/static/images/icon-heroicons-outline-user-group0.svg" />
                    </div>
                </a>

                <!-- 알람버튼 -->
                <a href="/notification/list">
                    <div class="button">
                        <img class="icon-jam-icons-outline-logos-bell"
                            src="../../../resources/static/images/icon-jam-icons-outline-logos-bell0.svg" />
                    </div>
                </a>

                <!-- 유저프로필 -->
                <a href="/myPage/info">
                    <div class="user-thumb">
                        <img class="icon-jam-icons-outline-logos-user"
                            src="../../../resources/static/images/icon-jam-icons-outline-logos-user0.svg" />
                    </div>

                </a>


                <!-- 로그인/회원가입버튼 -->
                <a href="/login.jsp">
                    <div class="button2">

                        <div class="text-container">
                            <div class="button-text">시작하기</div>
                        </div>

                    </div>
                </a>


            </div>
        </div>

        <div class="menu">

            <div class="left">

                <a href="/rec/recBooks">
                    <div class="menu-item">
                        <div class="menu-item2">도서 추천</div>
                    </div>
                </a>


                <a href="/myPage/info">
                    <div class="menu-item">
                        <div class="menu-item2">마이 컨텐츠</div>
                    </div>
                </a>

                <a href="/community/main">
                    <div class="menu-item">
                        <div class="menu-item2">커뮤니티</div>
                    </div>
                </a>

            </div>
        </div>
        </div>

    </header>

    <div class="container4">
    </div>

    <div class="container">
        <!-- 게시글 수정 폼 -->
        <form id="editPostForm" action="/community/editPost" method="post" enctype="multipart/form-data">
            <!-- 게시글 수정 헤더 -->
            <div class="post-header">
                <h1>게시글 수정</h1>
            </div>

            <!-- 게시글 ID (숨겨진 필드) -->
            <input type="hidden" name="postId" value="${post.id}">

            <!-- 제목 입력 -->
            <div class="form-title">
                <div class="form-title-title">제목</div>
                <input type="text" id="title" name="title" value="${post.title}" placeholder="제목을 입력하세요." required>
            </div>

            <!-- 사진 업로드 -->
            <div class="section">
                <label>사진</label>
                <div class="image-upload-container">
                    <div class="image-preview-container">
                        <div class="image-preview">
                            <img id="uploadedImage" src="${post.imagePath}" alt="미리보기">
                        </div>
                        <div class="image-upload-buttons">
                            <button type="button" id="uploadButton" onclick="uploadImage()">사진 업로드</button>
                            <button type="button" id="removeButton" onclick="removeImage()">제거</button>
                        </div>
                    </div>
                    <input type="file" id="imageInput" name="image" style="display: none;" accept="image/*">
                    <div class="image-requirements">
                        <p>Image requirements:</p>
                        <ul>
                            <li>1. Min. 400 x 400px</li>
                            <li>2. Max. 2MB</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 본문 수정 -->
            <div class="section">
                <label for="content">본문</label>
                <textarea id="content" name="content" rows="10" placeholder="내용을 입력하세요." required>${post.content}</textarea>
            </div>

            <!-- 수정 완료 버튼 -->
            <div class="section-button">
                <button type="submit" id="submitPost">수정 완료</button>
            </div>
        </form>
    </div>

    <div class="container4">
    </div>

</body>

</html>
